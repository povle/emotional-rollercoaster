# Emotional Rollercoaster
## Требования
Тестировалось на Python 3.9.7, вероятно будет работать на 3.7 и выше. Установка необходимых библиотек:
```bash
pip install -r requirements.txt
```

## Выгрузка сообщений
Сначала необходимо [выгрузить из ВК архив своих сообщений](https://vk.com/data_protection?section=rules&scroll_to_archive=1). Примерно через 3 часа этот архив можно будет скачать. Нужно его разархивировать.

## Парсинг
Нужно запустить `parse.py` с указанием на путь к папкн messages из архива и путь, по которому будут сохранены сообщения в формате json.

 Например:
```bash
python3 parse.py Archive/messages messages.json
```

У `parse.py` есть дополнительные опции, список можно посмотреть с помощью `python3 parse.py --help`

## Анализ
Нужно запустить `score.py` с указанием на путь к спарсенным сообщениям и путь для сохранения результатов сентимент анализа.
Первый запуск займет дольше остальных, потому что сначала скачается языковая модель (примерно 80 мегабайт).
```bash
python3 score.py messages.json scores.csv
```
У скрипта есть в основном аналогичные `parse.py` опции. Но `score.py` по умолчанию анализирует только ваши сообщения, чтобы проанализировать все (не рекомендуется, в данный момент визуализация не поддерживает фильтрацию по пользователю) используйте `-s all`.

## Визуализация
```bash
python3 plot.py scores.csv
```
У скрипта есть опция `-w`, регулирующая ширину скользящего среднего. По умолчанию `-w 5000`. Стоит поэкспериментировать с этой настройкой: при слишком большом значении теряется точность графика, при слишком маленьком теряется гладкость. Чем больше общее число сообщений, тем больше стоит ставить эту настройку.
